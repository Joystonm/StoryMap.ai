{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\StoryMap.ai\\\\client\\\\src\\\\components\\\\LocationSearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport apiClient from '../utils/apiClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationSearch = ({\n  onLocationSelect\n}) => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const searchLocation = async searchQuery => {\n    if (!searchQuery.trim()) return;\n    setLoading(true);\n    setError('');\n    try {\n      const response = await apiClient.get(`/location/search?query=${encodeURIComponent(searchQuery)}`);\n      setSuggestions(response.data);\n      if (response.data.length === 0) {\n        setError('No locations found. Try a different search term.');\n      }\n    } catch (err) {\n      setError('Failed to search locations. Please try again.');\n      setSuggestions([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const value = e.target.value;\n    setQuery(value);\n\n    // Clear suggestions if input is empty\n    if (!value.trim()) {\n      setSuggestions([]);\n      setError('');\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      searchLocation(query);\n    }\n  };\n  const handleSuggestionClick = suggestion => {\n    const location = {\n      name: suggestion.display_name || suggestion.name,\n      lat: parseFloat(suggestion.lat),\n      lon: parseFloat(suggestion.lon),\n      coordinates: [parseFloat(suggestion.lat), parseFloat(suggestion.lon)]\n    };\n    setQuery(location.name);\n    setSuggestions([]);\n    setError('');\n    onLocationSelect(location);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: query,\n        onChange: handleInputChange,\n        onKeyPress: handleKeyPress,\n        placeholder: \"Search for a location in Australia...\",\n        className: \"flex-1 p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => searchLocation(query),\n        disabled: loading || !query.trim(),\n        className: \"px-4 py-3 bg-blue-500 text-white rounded-r-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed\",\n        children: loading ? 'üîç' : 'üîç'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 p-2 bg-red-100 border border-red-300 rounded text-red-700 text-sm\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 z-10 max-h-60 overflow-y-auto\",\n      children: suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleSuggestionClick(suggestion),\n        className: \"p-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium text-gray-800\",\n          children: suggestion.display_name || suggestion.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this), suggestion.address && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: [suggestion.address.state, \", \", suggestion.address.country]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationSearch, \"L1U2qVgY9L4G2X4+fJTLis/mMj4=\");\n_c = LocationSearch;\nexport default LocationSearch;\nvar _c;\n$RefreshReg$(_c, \"LocationSearch\");","map":{"version":3,"names":["React","useState","apiClient","jsxDEV","_jsxDEV","LocationSearch","onLocationSelect","_s","query","setQuery","suggestions","setSuggestions","loading","setLoading","error","setError","searchLocation","searchQuery","trim","response","get","encodeURIComponent","data","length","err","handleInputChange","e","value","target","handleKeyPress","key","handleSuggestionClick","suggestion","location","name","display_name","lat","parseFloat","lon","coordinates","className","children","type","onChange","onKeyPress","placeholder","disabled","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","index","address","state","country","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/StoryMap.ai/client/src/components/LocationSearch.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport apiClient from '../utils/apiClient';\n\nconst LocationSearch = ({ onLocationSelect }) => {\n  const [query, setQuery] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const searchLocation = async (searchQuery) => {\n    if (!searchQuery.trim()) return;\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      const response = await apiClient.get(`/location/search?query=${encodeURIComponent(searchQuery)}`);\n      setSuggestions(response.data);\n      \n      if (response.data.length === 0) {\n        setError('No locations found. Try a different search term.');\n      }\n    } catch (err) {\n      setError('Failed to search locations. Please try again.');\n      setSuggestions([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const value = e.target.value;\n    setQuery(value);\n    \n    // Clear suggestions if input is empty\n    if (!value.trim()) {\n      setSuggestions([]);\n      setError('');\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      searchLocation(query);\n    }\n  };\n\n  const handleSuggestionClick = (suggestion) => {\n    const location = {\n      name: suggestion.display_name || suggestion.name,\n      lat: parseFloat(suggestion.lat),\n      lon: parseFloat(suggestion.lon),\n      coordinates: [parseFloat(suggestion.lat), parseFloat(suggestion.lon)]\n    };\n    \n    setQuery(location.name);\n    setSuggestions([]);\n    setError('');\n    onLocationSelect(location);\n  };\n\n  return (\n    <div className=\"relative\">\n      <div className=\"flex\">\n        <input\n          type=\"text\"\n          value={query}\n          onChange={handleInputChange}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Search for a location in Australia...\"\n          className=\"flex-1 p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          disabled={loading}\n        />\n        <button\n          onClick={() => searchLocation(query)}\n          disabled={loading || !query.trim()}\n          className=\"px-4 py-3 bg-blue-500 text-white rounded-r-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed\"\n        >\n          {loading ? 'üîç' : 'üîç'}\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"mt-2 p-2 bg-red-100 border border-red-300 rounded text-red-700 text-sm\">\n          {error}\n        </div>\n      )}\n\n      {suggestions.length > 0 && (\n        <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 z-10 max-h-60 overflow-y-auto\">\n          {suggestions.map((suggestion, index) => (\n            <div\n              key={index}\n              onClick={() => handleSuggestionClick(suggestion)}\n              className=\"p-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0\"\n            >\n              <div className=\"font-medium text-gray-800\">\n                {suggestion.display_name || suggestion.name}\n              </div>\n              {suggestion.address && (\n                <div className=\"text-sm text-gray-500\">\n                  {suggestion.address.state}, {suggestion.address.country}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LocationSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}